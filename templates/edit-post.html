{% extends "base.html" %}
{% block navlinks %}
  {% if user %}
  <li><a href="/new">New Post</a></li>
  <li><a href="/logout">Logout</a></li>
  {% else %}
  <li><a href="/login">Login</a></li>
  <li><a href="/register">Register</a></li>
  {% endif %}
{% endblock %}
{% block content %}
<div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">
  <div class="well">
    <h2 class="h4 text-center">Edit Post: {{ post.subject }}</h2>
    <form class="form-horizontal" method="post">
      <div class="form-group">
        <label for="subject" class="col-sm-3 control-label">Subject</label>
        <div class="col-sm-8">
          <input type="hidden" class="form-control" name="id" value="{{ id }}">
          <input type="text" class="form-control" name="subject"
            placeholder="Subject" value="{{post.subject}}">
        </div>
      </div>
      <div class="form-group">
        <label for="blog" class="col-sm-3 control-label">Blog</label>
        <div class="col-sm-8">
          <textarea class="form-control" name="blog">{{post.content}}</textarea>
        </div>
      </div>
      {% if error %}
      <div class="form-group">
        <div class="col-sm-offset-3 col-sm-8 text-center error">
          <strong>{{error}}</strong>
        </div>
      </div>
      {% endif %}
      <div class="form-group">
        <div class="col-xs-12 col-sm-offset-3 col-sm-4">
          <button class="btn btn-block btn-info" type="submit">
            <i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit Post
          </button>
          <a class="btn btn-block btn-default visible-xs"
            href="/view-post?id={{ post.key().id() }}">
            Cancel
          </a>
        </div>
        <div class="col-sm-4 hidden-xs">
          <a class="btn btn-block btn-default"
            href="/view-post?id={{ post.key().id() }}">
            Cancel
          </a>
        </div>
      </div>
    </form>
  </div>
</div>
{% endblock %}
